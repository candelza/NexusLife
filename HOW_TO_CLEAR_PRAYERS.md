# วิธีลบคำอธิฐานทั้งหมดและสร้างใหม่

## วิธีที่ 1: ใช้ Supabase Dashboard (แนะนำ)

1. ไปที่ [Supabase Dashboard](https://supabase.com/dashboard)
2. เลือกโปรเจคของคุณ
3. ไปที่ **SQL Editor**
4. คัดลอกโค้ดจากไฟล์ `clear_prayers_final.sql` และวางลงใน SQL Editor
5. กด **Run** เพื่อรันสคริปต์

## สิ่งที่สคริปต์จะทำ

### 1. ลบข้อมูลทั้งหมด
- ลบคำอธิฐานทั้งหมด (`prayers`)
- ลบคำตอบทั้งหมด (`prayer_responses`)
- ลบความคิดเห็นทั้งหมด (`prayer_comments`)
- ลบการกดไลค์ทั้งหมด (`prayer_likes`)

### 2. สร้างคำอธิฐานใหม่ 10 ข้อ
1. **คำอธิษฐานเพื่อครอบครัว** - ขอให้ครอบครัวมีความสุขและความสามัคคี
2. **คำอธิษฐานเพื่อการรักษา** (เร่งด่วน) - ขอให้การรักษาโรคเป็นไปด้วยดี
3. **คำอธิษฐานส่วนตัว** (ส่วนตัว) - ขอให้มีสติปัญญาในการตัดสินใจ
4. **คำอธิษฐานเพื่อการงาน** - ขอให้การทำงานเป็นไปด้วยดี
5. **คำอธิษฐานเพื่อการศึกษา** - ขอให้การเรียนเป็นไปด้วยดี
6. **คำอธิษฐานเพื่อการเงิน** - ขอให้มีรายได้ที่มั่นคง
7. **คำอธิษฐานเพื่อความสัมพันธ์** - ขอให้ความสัมพันธ์เป็นไปด้วยดี
8. **คำอธิษฐานเพื่อจิตวิญญาณ** - ขอให้มีจิตใจที่สงบ
9. **คำอธิษฐานเพื่อสังคม** - ขอให้สังคมมีความสงบสุข
10. **คำอธิษฐานเพื่อโลก** - ขอให้โลกมีความสงบสุข

### 3. เพิ่มข้อมูลตัวอย่าง
- คำตอบ 1 ข้อ
- การกดไลค์ 1 ครั้ง

## ข้อดีของสคริปต์ใหม่

✅ **ปลอดภัย**: ตรวจสอบว่ามี user ในระบบหรือไม่  
✅ **อัตโนมัติ**: สร้าง user ตัวอย่างถ้าไม่มี  
✅ **ครบถ้วน**: ลบและสร้างข้อมูลใหม่ทั้งหมด  
✅ **ตรวจสอบได้**: แสดงผลลัพธ์หลังจากรันเสร็จ  

## หมายเหตุ

- สคริปต์จะใช้ user แรกที่มีในตาราง `profiles`
- หากไม่มี user ในระบบ สคริปต์จะสร้าง user ตัวอย่างให้อัตโนมัติ
- ข้อมูลทั้งหมดจะถูกลบและสร้างใหม่
- คำอธิฐานจะมีการตั้งวันที่ที่แตกต่างกัน (1-10 วันที่แล้ว)

## ตรวจสอบผลลัพธ์

หลังจากรันสคริปต์แล้ว คุณจะเห็น:
- ข้อความ "Prayers cleared and reset successfully!"
- จำนวนคำอธิฐานทั้งหมด: 10 ข้อ
- จำนวนคำตอบ: 1 ข้อ
- จำนวนการกดไลค์: 1 ครั้ง

## หากมีปัญหา

หากสคริปต์ไม่ทำงาน ให้ตรวจสอบ:
1. การเชื่อมต่อกับ Supabase
2. สิทธิ์ในการเข้าถึงฐานข้อมูล
3. โครงสร้างตารางที่ถูกต้อง

หากยังมีปัญหา ให้ลองรันทีละส่วน:
```sql
-- ลบข้อมูล
DELETE FROM public.prayer_responses;
DELETE FROM public.prayer_comments;
DELETE FROM public.prayer_likes;
DELETE FROM public.prayers;

-- ตรวจสอบ user
SELECT COUNT(*) FROM public.profiles;
```
